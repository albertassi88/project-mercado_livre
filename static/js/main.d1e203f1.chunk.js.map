{"version":3,"sources":["context/TodoContext.js","context/TodoProvider.js","services/MercadoLivreApi.js","components/Header.js","components/Category.js","components/Items.js","pages/Home.js","pages/ProductDetails.js","pages/Cart.js","pages/Finished.js","App.js","index.js"],"names":["context","createContext","TodoProvider","children","useState","items","setItems","busca","setBusca","category","setCategory","id","setId","name","setName","details","setDetails","cart","setCart","price","setPrice","useEffect","item","fetch","then","response","ok","json","Promise","reject","Error","data","results","catch","error","alert","idCategory","contextValue","createDetails","imagem","title","marca","estado","city","createCart","quant","updateCart","newQuant","map","element","sumTotal","sum","subtractTotal","removedCart","index","slice","concat","TodoContext","Provider","value","Header","useContext","product","setProduct","pathName","useHistory","location","pathname","className","type","placeholder","onChange","target","onClick","style","padding","Category","htmlFor","Items","to","thumbnail","attributes","value_name","address","state_name","src","alt","Home","ProductDetails","ToContext","filter","e","length","Cart","toFixed","Finished","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d1e203f1.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nconst context = createContext();\n\nexport default context;","import React, { useState, useEffect } from 'react';\nimport TodoContext from './TodoContext';\nimport { getItem, getCategory, getCategoryAndItem } from '../services/MercadoLivreApi';\n\nfunction TodoProvider({children}) {\n    const [items, setItems] = useState([]);\n    const [busca, setBusca] = useState('');\n    const [category, setCategory] = useState([]);\n    const [id, setId] = useState('');\n    const [name, setName] = useState('');  \n    const [details, setDetails] = useState([]); \n    const [cart, setCart] = useState([]);\n    let [price, setPrice] = useState(0);    \n\n    useEffect(() => {\n        getItem(busca)\n        .then(data => {\n            setItems(data.results);\n        })\n        .catch((error) => {\n            alert('Ocorreu um error ao buscar os items');\n        });\n    }, [busca]);\n\n    useEffect(() => {\n        getCategory()\n        .then(data => {\n            setCategory(data);\n        })\n        .catch((error) => {\n            alert('Ocorreu um error ao buscar os items');\n        });\n    }, []);\n\n    useEffect(() => {\n        getCategoryAndItem(id, name)\n        .then(data => {\n            setItems(data.results);   \n        })\n        .catch((error) => {\n            alert('Ocorreu um error ao buscar os items');\n        });\n    }, [id, name]);\n\n    function createDetails(imagem, title, price, marca, estado, city) {\n        setDetails([{ imagem, title, price, marca, estado, city }]);\n    }   \n\n    function createCart(imagem, title, price, quant) {\n        setCart([...cart, { imagem, title, price, quant }]);    \n    }\n    \n    function removedCart(index) {\n        setCart(cart.slice(0, index).concat(cart.slice(index + 1)));\n    }\n    \n    function updateCart(title, newQuant) {\n        setCart(cart.map(element => element.title === title ? {...element, quant: newQuant} : element));    \n    } \n    \n    function sumTotal(sum) {\n        setPrice(price += sum)\n    }\n\n    function subtractTotal(sum) {\n        setPrice(price -= sum)\n    }\n\n    const contextValue = {\n        items,\n        setBusca,\n        busca, \n        category,        \n        setId,\n        setName,     \n        details,  \n        createDetails, \n        createCart,\n        cart,      \n        updateCart,   \n        price, \n        sumTotal,\n        subtractTotal,\n        removedCart,\n        setPrice,\n    }\n\n    return(\n        <div>\n            <TodoContext.Provider value={ contextValue }>\n                { children }\n            </TodoContext.Provider>\n        </div>\n    )\n}\n\nexport default TodoProvider;","export function getItem(item) {\n    return fetch(`https://api.mercadolibre.com/sites/MLB/search?q=$${item}`)\n    .then(response => (\n        response.ok\n        ? response.json()\n        : Promise.reject(new Error('Api Error'))\n    ));   \n}\n\nexport function getCategory() {\n    return fetch('https://api.mercadolibre.com/sites/MLB/categories')\n    .then(response => (\n        response.ok\n        ? response.json()\n        : Promise.reject(new Error(\"Api Error\"))\n    ));\n}\n\nexport function getCategoryAndItem(idCategory, item) {\n    return fetch(`https://api.mercadolibre.com/sites/MLB/search?category=$${idCategory}&q=$${item}`)          \n    .then(response => (\n        response.ok\n        ? response.json()\n        : Promise.reject(new Error(\"Api Error\"))\n    ));\n}","import React, { useState, useContext } from 'react';\nimport TodoContext from '../context/TodoContext';\nimport * as BsIcons from 'react-icons/bs';\nimport * as AiIcons from 'react-icons/ai';\nimport { useHistory } from 'react-router-dom';\n\nimport '../Css/Header.css';\n\nfunction Header() {\n    const { setBusca } = useContext(TodoContext);\n    const [product, setProduct] = useState('');\n\n    const history = useHistory().location;\n    const pathName = history.pathname;\n\n    function renderBusca() {\n        return (\n            <div>\n                {pathName === '/' ?\n                <div className=\"container-header\">\n                    <input \n                    type=\"text\"\n                    value={ product }\n                    placeholder=\"Buscar produtos, marcas e muito mais...\" \n                    onChange={({ target }) => setProduct( target.value )}\n                    /> \n                    <div className=\"header\">          \n                        <BsIcons.BsSearch onClick={() => { setBusca(product); setProduct('') }}/> \n                        <AiIcons.AiOutlineShoppingCart />                \n                    </div>\n                </div>\n                : <div className=\"container-header\" style={{padding: '41px'}} />}                                                                \n            </div>\n        )\n    }\n\n\n    return(\n        <div>\n          { renderBusca()}          \n        </div>\n    )\n}\n\nexport default Header;","import React, { useContext } from 'react';\nimport TodoContext from '../context/TodoContext';\nimport '../Css/Category.css';\n\nfunction Category() {\n    const { category, setId, setName } = useContext(TodoContext);\n  \n    function renderCategory() {\n        return category.map((element, index) => {\n            return (\n                <div key={index}>\n                    <input \n                      type=\"radio\"\n                      id={element.name}\n                      value={element.name}\n                      name=\"category\"\n                      onClick={() => { setId(element.id); setName(element.name) }}                      \n                    />\n                    <label htmlFor={element.name}>{element.name}</label>                    \n                </div>\n            )\n        })\n    } \n\n    return(\n        <div className=\"container-category\">\n          { renderCategory() } \n        </div>\n    )\n}\n\nexport default Category;","import React, { useContext } from 'react';\nimport TodoContext from '../context/TodoContext';\nimport { Link } from 'react-router-dom';\n\nimport '../Css/Items.css';\n\nfunction Items() {\n    const { items, createDetails } = useContext(TodoContext);   \n    \n    function renderItems() {\n        return items.map((element, index) => {\n            return (\n                <div key={index} className=\"items\">\n                    <Link to=\"/productdetails\" onClick={() => (\n                        createDetails(\n                            element.thumbnail, \n                            element.title, \n                            element.price, \n                            element.attributes[0].value_name,\n                            element.attributes[1].value_name,\n                            element.address.state_name\n                        ))}>\n                        <img src={element.thumbnail} alt={element.title}></img>\n                        <h2>{element.title}</h2>\n                        <p>R$ {element.price}</p>                                         \n                    </Link>                                \n                </div>                \n            )                    \n        })\n    }\n\n    return(\n        <div className=\"container-items\">    \n          { renderItems() } \n        </div>\n    )\n}\n\nexport default Items;","import React from 'react';\nimport Header from '../components/Header';\nimport Category from '../components/Category';\nimport Items from '../components/Items';\n\nfunction Home() {   \n\n    return(\n        <div>\n            <Header />\n            <Items /> \n            <Category />\n        </div>\n    )\n}\n\nexport default Home;","import React, { useContext } from 'react';\nimport ToContext from '../context/TodoContext';\nimport { Link, Redirect } from 'react-router-dom';\nimport Header from '../components/Header';\n\nimport '../Css/Details.css';\n\nfunction ProductDetails() {\n    const { details, createCart, cart } = useContext(ToContext);\n\n    function renderCart() {\n        return details.map((element, index) => {\n            return (\n                <div key={index} className=\"container-details\">\n                    <div className=\"details\">\n                        <img src={element.imagem} alt={element.title}></img>\n                        <h2>{element.title}</h2>\n                        <h4>{element.price}</h4>\n                        <p>Especificações:</p>\n                        <p>Marca: {element.marca}</p>\n                        <p>Estado de conservação: {element.estado}</p>\n                        <p>Cidade: {element.city}</p> \n                        {cart.filter(e => e.title === element.title).length > 0 \n                        ? <Redirect to=\"/cart\" />\n                        : <Link to=\"/cart\">\n                            <button onClick={ () => createCart(element.imagem, element.title, element.price, 0 ) }>Adicionar ao Carrinho</button>  \n                          </Link>\n                        }                    \n                    </div>              \n                </div>\n            )\n        })\n    }\n\n    return(\n        <div>  \n            <Header />  \n            { renderCart() }       \n        </div>\n    )\n}\n\nexport default ProductDetails;","import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport ToContext from '../context/TodoContext';\nimport Header from '../components/Header';\n\nimport '../Css/Cart.css';\n\nfunction Cart() {\n    const { details, cart, updateCart, price, setPrice, removedCart } = useContext(ToContext); \n    let { sumTotal, subtractTotal } = useContext(ToContext);\n\n    function renderCart() {\n        return cart.map((element, index) => {\n            return (\n                <div key={index} className=\"cart\">\n                    <img src={element.imagem} alt={element.title}></img>\n                    <p>{element.title}</p>\n                    <p>{element.price}</p>\n                    {element.quant > 0 &&\n                    <Link onClick={ () => { updateCart(element.title, element.quant - 1); subtractTotal(element.price) } }>\n                        <p>-</p>                    \n                    </Link>\n                    }                   \n                    <p>{element.quant}</p>                    \n                    <Link onClick={ () => { updateCart(element.title, element.quant + 1); sumTotal(element.price) } }>\n                        <p>+</p>                    \n                    </Link>\n                    <h3>{element.price * element.quant}</h3> \n                    {/* { price === 0 && setPrice(element.price)}                  */}\n                    <button onClick={ () => { removedCart(index); subtractTotal(element.price * element.quant); } }>Excluir</button>                \n                </div>\n            )\n        })\n    }\n\n    return (\n        <div>\n            <Header />\n            <div className=\"container-cart\">                \n                { renderCart() }\n                <div className=\"cart-vazio\">\n                    {details.length === 0 && price === 0 && <h5>O seu carrinho está vazio</h5>}\n                    <Link to=\"/\">Continuar comprando</Link>\n                </div>           \n                <div className=\"cart-finalizar\">\n                    <h2>Total da compra: R$ {price.toFixed(2)}</h2>\n                    <Link to=\"/finished\">\n                        <button>Finalizar compra</button>                    \n                    </Link>\n                </div>      \n            </div>                \n        </div>\n    )\n}\n\nexport default Cart;","import React from 'react';\nimport '../Css/Finished.css';\nimport * as FiIcons from 'react-icons/fi';\n\nfunction Finished() {   \n    return(\n        <div className=\"container-finished\">\n            <FiIcons.FiShoppingBag />\n            <h1>Parabéns, sua compra foi finalizada com sucesso!</h1>\n            <p>Número da operação: 6254588558904</p>\n        </div>\n    )\n}\n\nexport default Finished;","import React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport TodoProvider from './context/TodoProvider';\nimport Home from './pages/Home';\nimport ProductDetails from './pages/ProductDetails';\nimport Cart from './pages/Cart';\nimport Finished from './pages/Finished';\n\nimport './Css/App.css';\n\nfunction App() {\n  return (\n    <div>\n      <TodoProvider>\n        <BrowserRouter>\n          <Switch>\n            <Route exact path=\"/\" component={ Home } />\n            <Route path=\"/productdetails\" component={ ProductDetails } />\n            <Route path=\"/cart\" component={ Cart } />\n            <Route path=\"/finished\" component={ Finished } />\n          </Switch> \n        </BrowserRouter>        \n      </TodoProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}